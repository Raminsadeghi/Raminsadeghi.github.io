<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Validation Power Jquery Plugin</title>
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<!--<link rel="stylesheet" href="css/bootstrap-rtl.min.css">-->
	<!--<link rel="stylesheet" href="css/bootstrap-flipped.min.css">-->
	<link rel="stylesheet" href="css/persian-datepicker-0.4.5.min.css">
	<style>
		.red {
			color: red;
			font-size: 1.3em;
		}

		div.disabled {
			background-color: #000;
			width: 50px;
			height: 50px;
		}

		div.my_disable {
			background-color: red !important;
		}
	</style>
</head>
<body>

<div class="container" style="margin-top: 30px;">
	<div class="col-md-8">
		<form class="form-horizontal">
			<div class="form-group">
				<label for="first_name" class="col-sm-2 control-label"><span class="red">*</span>Name: </label>

				<div class="col-sm-10">
					<input id="first_name" type="text" name="first_name[sadsad][0]"
						   class="validate langFa form-control"
						   maxlength="12"
						   data-vpKeyboard="keyboard"
						   required
						   autocomplete="off" placeholder="Name">
				</div>
			</div>
			<div class="form-group">
				<label for="last_name" class="col-sm-2 control-label"><span class="red">*</span>Surname: </label>

				<div class="col-sm-10">
					<input id="last_name" type="text" name="last_name" class="form-control langFa"
						   data-disallowed-chars="a,l,m" maxlength="20" autocomplete="off" placeholder="Surname">
				</div>
			</div>
			<div class="form-group">
				<label for="account_num" class="col-sm-2 control-label">Bank Account Number</label>

				<div class="col-sm-10">
					<input id="account_num" type="text" name="account_num" class="form-control langEn numberValidation"
						   mask="___-______/___"
						   maxlength="30" autocomplete="off" placeholder="Bank Account Number"/>
				</div>
			</div>
			<div class="form-group">
				<label for="gender" class="col-sm-2 control-label"><span class="red">*</span>Gender</label>

				<div class="col-sm-10">
					<input id="gender" type="checkbox" name="gender" class="form-control" required />
				</div>
			</div>
			<div class="form-group">
				<label for="birth_date" class="col-sm-2 control-label">Birth Date</label>

				<div class="col-sm-10">
					<input id="birth_date" type="text" name="birth_date"
						   class="form-control langEn numberValidation timeValidation"
						   mask="____/__/__"
						   required
						   data-agerange='18-30'
						   minlength='8'
						   maxlength='30' autocomplete='off' placeholder="Birth Date"/>
				</div>
			</div>
			<div class="form-group">
				<label for="mobile" class="col-sm-2 control-label"><span class="red">*</span>Mobile: </label>

				<div class="col-sm-10">
					<input name="mobile" type="text" class="validate mobileValidation form-control"
						   pattern="^09\d{9}$"
						   title="Ramin sadeghi"
						   maxlength="11" minlength="11" id="mobile" placeholder="Mobile">
				</div>
			</div>
			<div class="form-group">
				<label for="url" class="col-sm-2 control-label"><span class="red">*</span>Website Url</label>

				<div class="col-sm-10">
					<input name="url" type="text" class="validate urlValidation form-control"
						   id="url" placeholder="Website Url">
				</div>
			</div>
			<div class="form-group">
				<label for="national_code" class="col-sm-2 control-label"><span class="red">*</span>National Code: </label>

				<div class="col-sm-10">
					<input name="national_code" type="text" class="form-control"
						   data-vpKeyboard="keyboard"
						   required
						   maxlength="10" minlength="10" id="national_code" placeholder="National Code">
				</div>
			</div>
			<!-- To be specific password field has no validation on it, but if we want we can put some validation on it. -->
			<div class="form-group">
				<label for="inputPassword3" class="col-sm-2 control-label"><span class="red">*</span>Password: </label>

				<div class="col-sm-10">
					<input type="password" class="my-passy validate form-control vp-matchP1 vp-letter-flash passwordValidation" id="inputPassword3"
						   required
						   name = 'password'
						   placeholder="Password">
				</div>
			</div>
			<div class="form-group">
				<label for="inputPassword2" class="col-sm-2 control-label"><span class="red">*</span>Confirm Password: </label>

				<div class="col-sm-10">
					<input type="password" class="my-passy validate form-control vp-matchP1 vp-letter-flash passwordValidation" id="inputPassword2"
						   required
						   name = 'password_confirm'
						   placeholder="Password Confirm">
				</div>
			</div>
			<div class="form-group">
				<label for="userName" class="col-sm-2 control-label"><span class="red">*</span>Username</label>

				<div class="col-sm-10">
					<input name="userName" maxlength="20" type="text" class="validate form-control "
						   id="userName"
						   required
						   placeholder="Username">
				</div>
			</div>
			<div class="form-group">
				<label for="email" class="col-sm-2 control-label"><span class="red">*</span>Email: </label>

				<div class="col-sm-10">
					<input type="email" name="email"
						   data-vpKeyboard="keyboard"
						   class="validate form-control vp-matchE1 emailValidation" id="email" placeholder="Email"
						   minlength = 8
						   required
					>
				</div>
			</div>
			<div class="form-group">
				<label for="inputEmail1" class="col-sm-2 control-label"><span class="red">*</span>Email Confirm 1</label>
				<div class="col-sm-10">
					<input type="text" class="validate form-control emailValidation vp-matchE1" id="inputEmail1"
						   required
						   name = 'email_confirm'
						   placeholder="Email Confirm 1">
				</div>
			</div>
			<div class="form-group">
				<label for="inputEmail2" class="col-sm-2 control-label"><span class="red">*</span>Email Confirm 2: </label>
				<div class="col-sm-10">
					<input type="text" class="validate form-control emailValidation vp-matchE1" id="inputEmail2"
						   required
						   name = 'email_confirm'
						   placeholder="Email Confirm 2">
				</div>
			</div>
			<div class="form-group">
				<label for="price" class="col-sm-2 control-label"><span class="red">*</span>Price: </label>

				<div class="col-sm-10">
					<input name="price" type="text"
						   class="validate costValidation form-control"  maxlength="10"
						   data-vprange='1500-'
						   required
						   id="price" placeholder="Price"
					>
				</div>
			</div>
			<div class="form-group">
				<label for="about" class="col-sm-2 control-label">About Me</label>

				<div class="col-sm-10">
                    <textarea type="text" class="validate form-control remainChars addressValidation"
							  data-allowed-chars=""
							  data-no-lang maxlength="150" minlength="10" id="about" placeholder="About Me"></textarea>
				</div>
			</div>
			<div class="form-group">
				<div class="col-sm-offset-2 col-sm-10">
					<button type="submit" class="btn btn-default">Sign in</button>
					<button type="submit" class="btn btn-success">Go to next step</button>
					<button type="reset" class="btn btn-success">Reset</button>
				</div>
			</div>
		</form>
	</div>
	<div class="col-md-4">
		<h1>Errors</h1>

		<div class="errors"></div>
	</div>
</div>

<!-- scripts -->
<script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="js/jquery-migrate.min.js"></script>
<script type="text/javascript" src="js/persian-date-0.1.8.min.js"></script>
<!--<script src="tooltip/js/jquery.qtip.min.js"></script>-->
<script type="text/javascript" src="js/persian-datepicker-0.4.5.min.js"></script>
<script type="text/javascript" src="js/jquery.validation-power.js"></script>
<script>
	var plugin_options = {
		plugin_main_method: 'qtip',
		show_method: 'show',
		hide_method: 'hide',
		default_text: 'This is default text',
		plugin_attr_options: 'title',
		plugin_options: {
			position: {
				my: 'right bottom',  // Position my top left...
				at: 'left down' // at the bottom right of...
			}
		}
	};

	$('form').validationPower({
		letterFlash: {
			flashShow: '',
			flashLastChars: 1,
			flashStyle: {
				display: 'none',
				position: 'absolute',
				right: '100%',
				top: '-50%',
				width: '100px',
				'font-size': '50px'
			}
		}
	});

	var timeout;
	$('#national_code').on('input', function () {
		var elem = $(this);
		var val = elem.val();
		clearTimeout(timeout);
		elem.vp_external_check('vp-error-2', 'add');
		if (val.length >= 10) {
			console.log('start coding');
			var nationals = [
//                    '3860335499',
				'0651811430',
				'0779908473',
				'0830019693',
				'0839322781',
				'0839526687',
				'0839533500',
				'0839547511',
				'0839551339',
				'0839552971',
				'0839554923',
				'0839558491',
				'0839738579',
				'0839746954',
				'0839766505',
				'0839871767',
				'0839889879',
				'0839902069',
				'0839908660'
			];
			timeout = setTimeout(function () {
				if ($.inArray(val, nationals) != -1) {
					console.log('hi');
					elem.vp_external_check('vp-error-2', 'remove');
				}
			}, 4000);
		}
	});
</script>
</body>
</html>
